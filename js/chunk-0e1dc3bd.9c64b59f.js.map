{"version":3,"sources":["webpack:///./node_modules/firebase/app/dist/index.cjs.js","webpack:///./src/views/pages/Login.vue?251b","webpack:///src/views/pages/Login.vue","webpack:///./src/views/pages/Login.vue?8b7f","webpack:///./src/views/pages/Login.vue","webpack:///./src/views/pages/Login.vue?901d"],"names":["_interopDefault","ex","__webpack_require__","firebase","module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","type","on","click","$event","loginClick","_v","staticRenderFns","Loginvue_type_script_lang_js_","methods","fireAuth","index_cjs_default","a","auth","vm","provider","GoogleAuthProvider","addScope","signInWithPopup","then","result","user","userUid","database","ref","concat","uid","once","snapshot","displayName","set","email","photoURL","$router","push","catch","ero","code","console","log","created","userStr","onAuthStateChanged","userState","pages_Loginvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_5eb588a4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_5eb588a4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"kHAEA,SAAAA,EAAAC,GAA+B,OAAAA,GAAA,kBAAAA,GAAA,YAAAA,IAAA,WAAAA,EAE/BC,EAAQ,QACR,IAAAC,EAAAH,EAA+BE,EAAQ;;;;;;;;;;;;;;;;GAmBvCE,EAAAC,QAAAF,8CCxBA,IAAAG,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,OAAkB,CAAAF,EAAA,UAAeE,YAAA,iCAAAC,MAAA,CAAoDC,KAAA,UAAgBC,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAAX,EAAAY,gBAA0B,CAAAR,EAAA,KAAUE,YAAA,kBAA4BN,EAAAa,GAAA,wBAC7SC,EAAA,wBCWAC,EAAA,CACAC,QAAA,CACAJ,WADA,WAEA,IAAAK,EAAAC,EAAAC,EAAAC,OACAC,EAAApB,KAGAqB,EAAA,IAAAJ,EAAAC,EAAAC,KAAAG,mBACAD,EAAAE,SAAA,WACAF,EAAAE,SAAA,SACAP,EAAAQ,gBAAAH,GAAAI,KAAA,SAAAC,GACA,IAAAC,EAAA,CAAAA,KAAAD,EAAAC,MACAC,EAAAX,EAAAC,EAAAW,WAAAC,IAAA,UAAAC,OAAAJ,EAAAK,MAAAC,KAAA,SAAAR,KAAA,SAAAS,GAAA,OAAAA,EAAAC,cACA,kBAAAP,GAEAX,EAAAC,EAAAW,WAAAC,IAAA,SAAAC,OAAAJ,EAAAK,MAAAI,IAAA,CACAC,MAAAV,EAAAU,MACAF,YAAAR,EAAAQ,YACAG,SAAAX,EAAAW,WAGAlB,EAAAmB,QAAAC,KAAA,OACAC,MAAA,SAAAC,GAEA,qDAAAA,EAAAC,KAAA,KAEAN,EAAAK,EAAAL,MACAO,QAAAC,IAAA,oBAAAR,QAKAS,QAhCA,WAiCA,IAAAC,EACA9B,EAAAC,EAAAC,OAAA6B,mBAAA,SAAAC,GACAA,GACAF,EAAAE,EACAL,QAAAC,IAAA,kBAAAE,KAEAA,EAAA,KACAH,QAAAC,IAAA,iCCpD8VK,EAAA,0BCQ9VC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACApD,EACAe,GACF,EACA,KACA,WACA,MAIeyC,EAAA,WAAAH,oECnBf,IAAAI,EAAA7D,EAAA,QAAA8D,EAAA9D,EAAA+D,EAAAF,GAAsjBC,EAAG","file":"js/chunk-0e1dc3bd.9c64b59f.js","sourcesContent":["'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nrequire('@firebase/polyfill');\nvar firebase = _interopDefault(require('@firebase/app'));\n\n/**\r\n * @license\r\n * Copyright 2018 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nmodule.exports = firebase;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"all\"},[_c('button',{staticClass:\"btn btn-lg btn-outline-primary\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){return _vm.loginClick()}}},[_c('i',{staticClass:\"fab fa-google\"}),_vm._v(\" 使用google繼續\\n  \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"all\">\n    <button class=\"btn btn-lg btn-outline-primary\"\n      @click=\"loginClick()\" type=\"submit\">\n      <i class=\"fab fa-google\"></i> 使用google繼續\n    </button>\n  </div>\n</template>\n\n<script>\nimport firebase from 'firebase/app';\n\nexport default {\n  methods: {\n    loginClick() {\n      const fireAuth = firebase.auth();\n      const vm = this;\n\n      // Start a sign in process for an unauthenticated user.\n      const provider = new firebase.auth.GoogleAuthProvider();\n      provider.addScope('profile');\n      provider.addScope('email');\n      fireAuth.signInWithPopup(provider).then((result) => {\n        const user = { user: result.user }; // 檢測\n        const userUid = firebase.database().ref(`/users/${user.uid}`).once('value').then(snapshot => snapshot.displayName);\n        if (typeof userUid !== 'string') {\n          // 沒登過，寫入會員基本資料\n          firebase.database().ref(`users/${user.uid}`).set({\n            email: user.email,\n            displayName: user.displayName,\n            photoURL: user.photoURL,\n          });\n        }\n        vm.$router.push('/');\n      }).catch((ero) => {\n        // 處理 帳號已經存在於其他登入方式時\n        if (ero.code === 'auth/account-exists-with-different-credential') {\n          // 取得當初此Email的登入方式\n          const { email } = ero;\n          console.log('google登入錯誤-使用者信箱：', email);\n        }\n      });\n    },\n  },\n  created() {\n    let userStr;\n    firebase.auth().onAuthStateChanged((userState) => {\n      if (userState) {\n        userStr = userState;\n        console.log('User is logined', userStr);\n      } else {\n        userStr = null;\n        console.log('User is not logined yet.');\n      }\n    });\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.all {\n  height: 100vh;\n}\n\n.all {\n  display: -ms-flexbox;\n  display: -webkit-box;\n  display: flex;\n  -ms-flex-align: center;\n  -ms-flex-pack: center;\n  -webkit-box-align: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  justify-content: center;\n  padding-top: 40px;\n  padding-bottom: 40px;\n  background-color: #f5f5f5;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=5eb588a4&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=5eb588a4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5eb588a4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=5eb588a4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=5eb588a4&lang=scss&scoped=true&\""],"sourceRoot":""}